<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MRI Tumor Detection</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    min-height: 100vh;
    color: #222;
    background-color: #f6f9fc;
  }

  /* ===== Left Info Section ===== */
  .info-section {
    flex: 1;
    min-width: 350px;
    background: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWWDHpKmvPN1GBBRokEGLmq3SLCVUISe1f3l999U_YD0R0lMyhnBZ4ugY-2-9bjF6sJrg&usqp=CAU') no-repeat center/cover;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    padding: 60px;
    overflow: hidden;
  }

  .info-section::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(20, 30, 60, 0.6);
    backdrop-filter: blur(4px);
  }

  .info-content {
    position: relative;
    z-index: 2;
    max-width: 520px;
  }

  .info-content h1 {
    font-size: 2.9rem;
    font-weight: 700;
    background: linear-gradient(90deg, #4facfe, #00f2fe);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 25px;
  }

  .info-content p {
    font-size: 1.05rem;
    color: #e0e0e0;
    line-height: 1.7;
  }

  /* ===== Right Prediction Section ===== */
  .prediction-section {
    flex: 1;
    min-width: 350px;
    background: linear-gradient(135deg, #ffffff, #e3f2fd);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 60px 40px;
    position: relative;
  }

  .glass-card {
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(15px);
    border-radius: 20px;
    padding: 40px;
    border: 1px solid rgba(0,0,0,0.05);
    box-shadow: 0 6px 25px rgba(0,0,0,0.08);
    width: 100%;
    max-width: 480px;
    transition: all 0.3s ease;
  }

  .glass-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 35px rgba(0,0,0,0.1);
  }

  .section-title {
    font-weight: 600;
    color: #007aff;
    margin-bottom: 25px;
    text-align: center;
  }

  input[type="file"] {
    background-color: #f9fbff;
    color: #333;
    border: 1px solid #cfd8dc;
    padding: 10px;
    border-radius: 8px;
  }

  input[type="file"]::file-selector-button {
    background-color: #4facfe;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    transition: 0.3s;
  }

  input[type="file"]::file-selector-button:hover {
    background-color: #00c9ff;
  }

  .btn-primary {
    background: linear-gradient(90deg, #4facfe, #00f2fe);
    border: none;
    width: 100%;
    border-radius: 10px;
    font-weight: 600;
    padding: 12px;
    color: #fff;
    font-size: 1rem;
    letter-spacing: 0.5px;
    box-shadow: 0 4px 15px rgba(0, 188, 212, 0.3);
    transition: 0.3s;
  }

  .btn-primary:hover {
    transform: scale(1.03);
    box-shadow: 0 6px 25px rgba(0, 188, 212, 0.4);
  }

  .confidence-bar {
    height: 18px;
    border-radius: 9px;
    background: #e6e6e6;
    overflow: hidden;
    margin: 20px 0;
  }

  .confidence-bar-fill {
    height: 100%;
    border-radius: 9px;
    background: linear-gradient(90deg, #00c853, #b2ff59);
    width: 0%;
    transition: width 1s ease-in-out;
  }

  footer {
    text-align: center;
    margin-top: 40px;
    color: #777;
    font-size: 0.85rem;
  }

  img {
    max-height: 350px;
    border-radius: 10px;
    margin-top: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }

  /* ===== Responsive Design ===== */
  @media (max-width: 992px) {
    body {
      flex-direction: column;
    }
    .info-section, .prediction-section {
      flex: none;
      width: 100%;
      min-height: 50vh;
      padding: 40px 25px;
    }
    .info-content h1 {
      font-size: 2.2rem;
      text-align: center;
    }
    .info-content p {
      text-align: center;
    }
  }
</style>
</head>

<body>

  <!-- Left Side Info -->
  <section class="info-section">
    <div class="info-content">
      <h1>MRI Tumor Detection</h1>
      <p>
        Brain tumors are abnormal growths of cells that disrupt normal brain function.
        MRI scans enable early and accurate diagnosis by visualizing detailed structures.
        Using advanced deep learning, this system helps identify
        <strong>Glioma</strong>, <strong>Meningioma</strong>, and <strong>Pituitary</strong> tumors —
        empowering doctors with precise insights for better treatment.
      </p>
    </div>
  </section>

  <!-- Right Side Prediction -->
  <section class="prediction-section">
    <div class="glass-card text-center">

      {% if not result %}
        <h4 class="section-title">Upload MRI Image</h4>
        <form method="POST" enctype="multipart/form-data">
          <div class="mb-3">
            <input type="file" class="form-control" name="file" accept="image/*" required>
          </div>
          <button type="submit" class="btn btn-primary mt-3">Upload & Detect</button>
        </form>
      {% endif %}

      {% if result %}
        <h4 class="section-title">Detection Result</h4>
        <h3 class="fw-bold text-uppercase text-info">{{ result }}</h3>

        <div class="confidence-bar">
          <div class="confidence-bar-fill" style="width: {{ confidence|replace('%','')}}%"></div>
        </div>

        <p>Confidence: <strong>{{ confidence }}</strong></p>
        <img src="{{ url_for('static', filename=file_path) }}" alt="MRI Result" class="img-fluid">
        <a href="/" class="btn btn-primary mt-4">Try Another Image</a>
      {% endif %}

      <footer>© 2025 MRI Tumor Detection | Powered by Deep Learning</footer>
    </div>
  </section>

<script>
  const bar = document.querySelector('.confidence-bar-fill');
  if (bar) {
    const width = bar.style.width;
    bar.style.width = '0%';
    setTimeout(() => { bar.style.width = width; }, 300);
  }
</script>

</body>
</html>
